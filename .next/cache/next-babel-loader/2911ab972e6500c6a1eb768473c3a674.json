{"ast":null,"code":"export const SET_FILTER = 'SET_FILTER';\nexport const SET_WORD = 'SET_WORD';\nexport const SET_ORDER = 'SET_ORDER';\nexport const SET_IS_FETCHING = 'SET_IS_FETCHING';\nexport const SET_IS_NOT_FETCHING = 'SET_IS_NOT_FETCHING';\nexport const ADD_ITEMS = 'ADD_ITEMS';\nexport const RESET_ITEMS = 'RESET_ITEMS';\nexport const SET_FETCHING_ERROR = 'SET_FETCHING_ERROR';\nconst page_size = 20;\nconst URL = 'https://api.rawg.io/api/games?';\nlet page = 1;\nexport function setFilter(filter) {\n  return {\n    type: SET_FILTER,\n    filter\n  };\n}\nexport function setWord(word) {\n  return {\n    type: SET_WORD,\n    word\n  };\n}\nexport function setOrder(order) {\n  return {\n    type: SET_ORDER,\n    order\n  };\n}\nexport function setIsFetching() {\n  return {\n    type: SET_IS_FETCHING\n  };\n}\nexport function setIsNotFetching() {\n  return {\n    type: SET_IS_NOT_FETCHING\n  };\n}\nexport function addItems(items) {\n  return {\n    type: ADD_ITEMS,\n    items\n  };\n}\nexport function resetItems(items) {\n  return {\n    type: RESET_ITEMS,\n    items\n  };\n} ////////////////////////////////////////       ASYNC ACTIONS\n\nexport function fetchItems({\n  reset = true,\n  word\n}) {\n  let requestUrl = URL + 'page_size=' + page_size + '&page=' + page;\n  if (word) requestUrl = requestUrl + '&search=' + word;\n  return dispatch => {\n    dispatch(setIsFetching());\n    fetch(requestUrl).then(res => {\n      if (!res.ok) {\n        console.log(res);\n        throw new Error(res);\n      }\n\n      dispatch(setIsNotFetching());\n      return res.json();\n    }).then(res => {\n      page++;\n\n      if (reset) {\n        dispatch(resetItems(res.results));\n      } else {\n        dispatch(addItems(res.results));\n      }\n    }).catch(e => console.log('ERROR_CATCHED: ', e));\n  };\n}","map":{"version":3,"sources":["/Users/Stepan/Documents/code/proj/game-change/src/redux/actions.js"],"names":["SET_FILTER","SET_WORD","SET_ORDER","SET_IS_FETCHING","SET_IS_NOT_FETCHING","ADD_ITEMS","RESET_ITEMS","SET_FETCHING_ERROR","page_size","URL","page","setFilter","filter","type","setWord","word","setOrder","order","setIsFetching","setIsNotFetching","addItems","items","resetItems","fetchItems","reset","requestUrl","dispatch","fetch","then","res","ok","console","log","Error","json","results","catch","e"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAG,YAAnB;AACP,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,MAAMC,eAAe,GAAG,iBAAxB;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AAEP,MAAMC,SAAS,GAAG,EAAlB;AACA,MAAMC,GAAG,GAAG,gCAAZ;AACA,IAAIC,IAAI,GAAG,CAAX;AAEA,OAAO,SAASC,SAAT,CAAmBC,MAAnB,EAA2B;AAC9B,SAAO;AACHC,IAAAA,IAAI,EAAEb,UADH;AAEHY,IAAAA;AAFG,GAAP;AAIH;AAED,OAAO,SAASE,OAAT,CAAiBC,IAAjB,EAAuB;AAC1B,SAAO;AACHF,IAAAA,IAAI,EAAEZ,QADH;AAEHc,IAAAA;AAFG,GAAP;AAIH;AACD,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAC5B,SAAO;AACHJ,IAAAA,IAAI,EAAEX,SADH;AAEHe,IAAAA;AAFG,GAAP;AAIH;AACD,OAAO,SAASC,aAAT,GAAyB;AAC5B,SAAO;AACHL,IAAAA,IAAI,EAAEV;AADH,GAAP;AAGH;AACD,OAAO,SAASgB,gBAAT,GAA4B;AAC/B,SAAO;AACHN,IAAAA,IAAI,EAAET;AADH,GAAP;AAGH;AACD,OAAO,SAASgB,QAAT,CAAkBC,KAAlB,EAAyB;AAC5B,SAAO;AACHR,IAAAA,IAAI,EAAER,SADH;AAEHgB,IAAAA;AAFG,GAAP;AAIH;AACD,OAAO,SAASC,UAAT,CAAoBD,KAApB,EAA2B;AAC9B,SAAO;AACHR,IAAAA,IAAI,EAAEP,WADH;AAEHe,IAAAA;AAFG,GAAP;AAIH,C,CAID;;AAGA,OAAO,SAASE,UAAT,CAAoB;AAAEC,EAAAA,KAAK,GAAG,IAAV;AAAgBT,EAAAA;AAAhB,CAApB,EAA4C;AAE/C,MAAIU,UAAU,GAAGhB,GAAG,GAAG,YAAN,GAAqBD,SAArB,GAAiC,QAAjC,GAA4CE,IAA7D;AAEA,MAAIK,IAAJ,EAAUU,UAAU,GAAGA,UAAU,GAAG,UAAb,GAA0BV,IAAvC;AAGV,SAAQW,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACR,aAAa,EAAd,CAAR;AACAS,IAAAA,KAAK,CAACF,UAAD,CAAL,CACKG,IADL,CACUC,GAAG,IAAI;AAET,UAAI,CAACA,GAAG,CAACC,EAAT,EAAa;AAAEC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAAkB,cAAM,IAAII,KAAJ,CAAUJ,GAAV,CAAN;AAAsB;;AACvDH,MAAAA,QAAQ,CAACP,gBAAgB,EAAjB,CAAR;AACA,aAAOU,GAAG,CAACK,IAAJ,EAAP;AACH,KANL,EAOKN,IAPL,CAOUC,GAAG,IAAI;AACTnB,MAAAA,IAAI;;AACJ,UAAIc,KAAJ,EAAW;AACPE,QAAAA,QAAQ,CAACJ,UAAU,CAACO,GAAG,CAACM,OAAL,CAAX,CAAR;AACH,OAFD,MAEO;AACHT,QAAAA,QAAQ,CAACN,QAAQ,CAACS,GAAG,CAACM,OAAL,CAAT,CAAR;AACH;AACJ,KAdL,EAeKC,KAfL,CAeWC,CAAC,IAAIN,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BK,CAA/B,CAfhB;AAkBH,GApBD;AAsBH","sourcesContent":["export const SET_FILTER = 'SET_FILTER'\nexport const SET_WORD = 'SET_WORD'\nexport const SET_ORDER = 'SET_ORDER'\nexport const SET_IS_FETCHING = 'SET_IS_FETCHING'\nexport const SET_IS_NOT_FETCHING = 'SET_IS_NOT_FETCHING'\nexport const ADD_ITEMS = 'ADD_ITEMS'\nexport const RESET_ITEMS = 'RESET_ITEMS'\nexport const SET_FETCHING_ERROR = 'SET_FETCHING_ERROR'\n\nconst page_size = 20\nconst URL = 'https://api.rawg.io/api/games?'\nlet page = 1\n\nexport function setFilter(filter) {\n    return {\n        type: SET_FILTER,\n        filter\n    }\n}\n\nexport function setWord(word) {\n    return {\n        type: SET_WORD,\n        word\n    }\n}\nexport function setOrder(order) {\n    return {\n        type: SET_ORDER,\n        order\n    }\n}\nexport function setIsFetching() {\n    return {\n        type: SET_IS_FETCHING\n    }\n}\nexport function setIsNotFetching() {\n    return {\n        type: SET_IS_NOT_FETCHING\n    }\n}\nexport function addItems(items) {\n    return {\n        type: ADD_ITEMS,\n        items\n    }\n}\nexport function resetItems(items) {\n    return {\n        type: RESET_ITEMS,\n        items\n    }\n}\n\n\n\n////////////////////////////////////////       ASYNC ACTIONS\n\n\nexport function fetchItems({ reset = true, word }) {\n\n    let requestUrl = URL + 'page_size=' + page_size + '&page=' + page\n\n    if (word) requestUrl = requestUrl + '&search=' + word\n\n\n    return (dispatch) => {\n        dispatch(setIsFetching())\n        fetch(requestUrl)\n            .then(res => {\n\n                if (!res.ok) { console.log(res); throw new Error(res) }\n                dispatch(setIsNotFetching())\n                return res.json()\n            })\n            .then(res => {\n                page++;\n                if (reset) {\n                    dispatch(resetItems(res.results))\n                } else {\n                    dispatch(addItems(res.results))\n                }\n            })\n            .catch(e => console.log('ERROR_CATCHED: ', e))\n\n\n    }\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}