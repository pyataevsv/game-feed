{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport store from '../../redux/store';\nimport Slider from '../../components/Slider';\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nconst Column = styled.div.withConfig({\n  displayName: \"slug__Column\",\n  componentId: \"y6zr3n-0\"\n})([\"box-sizing:border-box;float:left;width:40%;padding:0px 20px;@media (max-width:1189px){width:100%;padding:0px 0px;}a{color:orange;text-decoration:none;line-height:40px;font-weight:bolder;}\"]);\nconst Head = styled.div.withConfig({\n  displayName: \"slug__Head\",\n  componentId: \"y6zr3n-1\"\n})([\"display:flex;justify-content:space-between;padding:10px 0px;div:nth-child(1){font-size:33px;}div:nth-child(2){font-size:24px;padding:5px 10px;background-color:#444;border-radius:5px;border:1px solid #777;}\"]);\nconst Released = styled.div.withConfig({\n  displayName: \"slug__Released\",\n  componentId: \"y6zr3n-2\"\n})([\"padding:0px 0px;text-align:right;color:#777;\"]);\nconst Descr = styled.div.withConfig({\n  displayName: \"slug__Descr\",\n  componentId: \"y6zr3n-3\"\n})([\"color:#e5e4e4;letter-spacing:0.3px;position:relative;overflow:hidden;height:\", \";div{position:\", \";top:0;left:0;width:100%;height:102%;text-align:justify;}button{display:block;position:absolute;bottom:0px;width:100%;background-color:rgba(50,50,50,0.95);color:white;border:none;outline-style:none;padding:5px;cursor:pointer;}\"], props => props.open ? null : '100px', props => props.open ? 'relative' : 'absolute');\n\nconst Game = () => {\n  const {\n    0: descr,\n    1: setDescr\n  } = useState(false);\n  const {\n    0: slides,\n    1: setSlides\n  } = useState(null);\n  const {\n    0: {\n      name,\n      description_raw,\n      website,\n      background_image,\n      rating,\n      released\n    },\n    1: setDetails\n  } = useState({});\n  const router = useRouter();\n  const {\n    slug\n  } = router.query; //screenshots\n\n  useEffect(() => {\n    if (slug) {\n      const scrURL = 'https://api.rawg.io/api/games/' + slug + '/screenshots';\n      fetch(scrURL).then(x => {\n        if (!x.ok) throw new Error(x); //console.log(x)\n\n        return x.json();\n      }).then(x => setSlides(x.results)).catch(x => console.log(x));\n      return () => {};\n    }\n  }, []); //screenshots\n\n  useEffect(() => {\n    if (slug) {\n      const scrURL = 'https://api.rawg.io/api/games/' + slug;\n      fetch(scrURL).then(x => {\n        if (!x.ok) throw new Error(x);\n        console.log(x);\n        return x.json();\n      }).then(x => {\n        console.log(x);\n        setDetails(x);\n      }).catch(x => console.log(x));\n      return () => {};\n    }\n  }, []);\n  return __jsx(\"div\", null, __jsx(Slider, {\n    slides: slides\n  }), __jsx(Column, null, __jsx(Head, null, __jsx(\"div\", null, name), __jsx(\"div\", null, rating)), __jsx(Released, null, new Date(released).getDate(), \"  \", monthNames[new Date(released).getMonth()], \", \", new Date(released).getFullYear()), __jsx(Descr, {\n    open: descr\n  }, __jsx(\"div\", null, description_raw, __jsx(\"br\", null), \"\\xA0\", __jsx(\"br\", null), \"\\xA0\"), __jsx(\"button\", {\n    onClick: () => setDescr(!descr)\n  }, descr ? 'less' : 'more')), __jsx(\"a\", {\n    href: website,\n    target: '_blank'\n  }, \"Go to website \\u2192\")));\n};\n\nexport const getServerSideProps = async ({\n  params\n}) => {\n  const slug = params.slug;\n  return {\n    props: {\n      slug: params.slug\n    }\n  };\n};\nexport default Game;","map":null,"metadata":{},"sourceType":"module"}